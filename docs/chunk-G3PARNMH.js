import{a as k}from"./chunk-E47FOZN3.js";import{C as b,D as h,E as f,G as C,L as F,N as x,U as L,Z as J,a as y,aa as N,c as P,ca as M,h as g,j as w,k as u,l as _,m as v,n as d,p as l,q as E,r as m,s as O,t as j,u as S,v as T,w as I,x as a,y as c,z as p}from"./chunk-AFE2Y54E.js";var z=(i,e)=>({card:!0,hideFront:i,markedElement:e});function Y(i,e){if(i&1){let s=b();a(0,"div",9),h("click",function(){let r=_(s).$implicit,o=f();return v(o.markElementSwitch(r))}),a(1,"div",10),p(2,"img",11),c(),a(3,"div",12),p(4,"img",13),c()()}if(i&2){let s=e.$implicit,t=f();m("ngClass",x(3,z,!t.displayCards,t.validateMarkedElement(s))),l(2),m("src",t.backtImagePath(),d),l(2),m("src",t.frontImagePath(s),d)}}function B(i,e){if(i&1){let s=b();a(0,"div",9),h("click",function(){_(s);let n=f();return v(n.markElementSwitch(6))}),a(1,"div",10),p(2,"img",11),c(),a(3,"div",12),p(4,"img",13),c()()}if(i&2){let s=f();m("ngClass",x(3,z,!s.displayCards,s.validateMarkedElement(6))),l(2),m("src",s.backtImagePath(),d),l(2),m("src",s.JokerForTemplate,d)}}var D=()=>[""],V=(()=>{let e=class e{constructor(t){this._cardsCommon=t,this.selectedCards=[],this.markedELements=[],this.isJokerRequired=!1,this.color=!1,this.howManyCards=7,this.displayCards=!1,this.subjectToTrigger=new y,this.determinateCards()}jokerControlInputChange(){this.isJokerRequired=!this.isJokerRequired,this.isJokerRequired?this.howManyCards=6:this.howManyCards=7}serveCardsEvent(){this.displayCards=!1,this.unmarkElements(),this.color=Math.random()>=.5,this.subjectToTrigger.pipe(P(800)).subscribe({next:t=>{},error:t=>{this.determinateCards()},complete:()=>{console.log("completed")}})}determinateCards(){this.selectedCards=[];let t=[],n=0,r=!1;for(;t.length<this.howManyCards;){n=this._cardsCommon.getRandomNumber(0,this._cardsCommon.cardsAvailableCount);for(let o=0;o<t.length;o++)n==t[o]&&(r=!0);r==!1?t.push(n):r=!1}this.selectedCards=t,this.selectedCards.sort(function(o,U){return o-U}),this.displayCards=!0}frontImagePath(t){return this._cardsCommon.currentImageFrontPath(t)}backtImagePath(){return this.color==!1?this._cardsCommon.currentImageBackPath("blue"):this._cardsCommon.currentImageBackPath("red")}get JokerForTemplate(){return this.color==!1?this._cardsCommon.getJoker("blue"):this._cardsCommon.getJoker("red")}markElementSwitch(t){let n=!1;for(let r=0;r<this.markedELements.length;r++)t==this.markedELements[r]&&(n=!0,this.markedELements.splice(r,1));n==!1?this.markedELements.push(t):n=!1}unmarkElements(){this.markedELements=[]}validateMarkedElement(t){let n=!1,r=!1;for(let o=0;o<this.markedELements.length;o++)t==this.markedELements[o]&&(n=!0);return n==!1||(n=!1,r=!0),r}ngOnDestroy(){this.subjectToTrigger.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(E(k))},e.\u0275cmp=w({type:e,selectors:[["app-main-page"]],decls:20,vars:4,consts:[[1,"btn-back",3,"routerLink"],[1,"cards-container"],[3,"ngClass"],[1,"serve-btn-container"],["id","btnServe",1,"serve-btn",3,"click"],[1,"joker-control-container"],[1,"joker-control-text"],[1,"joker-control-input"],["type","checkbox","id","jokercontrol",3,"checked","change"],[3,"ngClass","click"],[1,"card-back"],["alt","card back face",3,"src"],[1,"card-front"],["alt","card front face",3,"src"]],template:function(n,r){n&1&&(a(0,"header")(1,"a",0)(2,"span"),C(3,"\u2770"),c()()(),a(4,"main")(5,"section",1),T(6,Y,5,6,"div",2,S),O(8,B,5,6,"div",2),c()(),a(9,"footer")(10,"section",3)(11,"button",4),h("click",function(){return r.serveCardsEvent()}),a(12,"span"),C(13,"Serve cards"),c()()(),a(14,"section",5)(15,"div",6)(16,"span"),C(17,"Joker:\xA0"),c()(),a(18,"div",7)(19,"input",8),h("change",function(){return r.jokerControlInputChange()}),c()()()()),n&2&&(l(1),m("routerLink",F(3,D)),l(5),I(r.selectedCards),l(2),j(8,r.selectedCards.length==6?8:-1),l(11),m("checked",r.isJokerRequired))},dependencies:[L,N],styles:["a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;text-align:center;padding-left:30px;height:100px}.btn-back[_ngcontent-%COMP%]{font-size:45px;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 250px);display:flex;justify-content:center;align-items:flex-end}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{position:relative;width:11.4285714286vw;aspect-ratio:11/16;text-align:center;transform-style:preserve-3d;transform:translateY(0);margin-left:3px;margin-right:3px;transition:all .8s}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card-front[_ngcontent-%COMP%]{background-color:transparent}.card-back[_ngcontent-%COMP%]{background-color:transparent;transform:rotateY(180deg)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.hideFront[_ngcontent-%COMP%]{transform:rotateY(180deg)}.markedElement[_ngcontent-%COMP%]{transform:translateY(-60%);width:8.8888888889vw}footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:30px;padding-right:30px;height:150px}.serve-btn[_ngcontent-%COMP%]{display:flex;height:40px;justify-content:center;align-items:center;width:160px;height:55px;font-size:20px;color:#fff;background-color:#0b907c;border:2px solid black;border-radius:10px;transition-duration:.2s;scale:1;filter:brightness(1)}.serve-btn[_ngcontent-%COMP%]:hover{filter:brightness(1.15);scale:1.03}.serve-btn[_ngcontent-%COMP%]:active{filter:brightness(.95);scale:.97}.joker-control-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;font-size:20px;color:#fff}@media screen and (max-height: 600px){main[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.card[_ngcontent-%COMP%]{width:13.3333333333vw}.serve-btn[_ngcontent-%COMP%]{width:150px;height:40px}footer[_ngcontent-%COMP%]{height:100px}}"]});let i=e;return i})();var A=[{path:"",pathMatch:"full",component:V}],q=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e}),e.\u0275inj=g({imports:[M.forChild(A),M]});let i=e;return i})();var oe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e}),e.\u0275inj=g({providers:[k],imports:[J,q]});let i=e;return i})();export{oe as SevenCardsModule};
